{% extends 'base/base.html.twig' %}

{% block title %} Casu-Hall - Réinitialisation du mot de passe {% endblock %}

{% block body %}
    <div class= "align-items-center text-center"> 
        <h4 class = "p-2 mt-3 text-uppercase fw-bold"> Réinitialiser mon mot de passe </h4>
    </div>
    <div class="container d-flex flex-column border rounded mt-5 mb-5 shadow shadow-lg p-4 w-50">
        {{ form_start(resetForm) }}
            <div class="row mb-2 mt-4">
                <div class="col-md-6">
                    {{ form_label(resetForm.plainPassword.first) }}
                </div>
                <div class="col-md-4 mb-2">
                    {{ form_widget(resetForm.plainPassword.first) }}
                </div>
                <div class="col-md-6">
                    {{ form_label(resetForm.plainPassword.second) }}
                </div>
                <div class="col-md-4">
                    {{ form_widget(resetForm.plainPassword.second) }}
                </div>
            </div>

            <div class="col-md-4 form-check mt-1 mb-4">
                <input class="form-check-input" type="checkbox" onClick="afficherMotDePasse('change_password_form_plainPassword_first','change_password_form_plainPassword_second')">
                <label class="form-check-label"> Visualiser les mots de passe </label>
            </div>

            <div class="alert alert-warning d-flex align-items-center p-2 mt-2">
                <div class="fst-italic small d-flex">
                    <p class="mb-0">Pour rappel, votre mot de passe doit contenir au moins</p>
                    <p class="fw-bold mb-0 ms-1">8 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial.</p>
                </div>
            </div>

            <div class="d-flex justify-content-center mt-4 mb-3">
                {{ form_widget(resetForm.submit) }}
            </div>
        {{ form_end(resetForm) }}
    </div>

    {% for flash_error in app.flashes('reset_password_error') %}
        <div class="container d-flex align-items-center text-center justify-content-center mb-2 mt-2">
            <div class="alert alert-dismissible alert-danger">
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                {{ flash_error }}
            </div>
        </div>
    {% endfor %}
{% endblock %}
